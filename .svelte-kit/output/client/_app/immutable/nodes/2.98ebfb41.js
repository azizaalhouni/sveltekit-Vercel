import{g as h,m as b}from"../chunks/api.24b2cd97.js";import{S as B,i as D,s as F,k as H,a as $,l as M,m as K,c as d,h as g,n as u,D as y,p as w,b as v,F as j,K as O,q as N,y as k,r as U,z as P,A as S,g as T,d as q,B as C}from"../chunks/index.f9f2799d.js";import{C as z}from"../chunks/Carousel.761bebf2.js";async function J({fetch:s}){const[t,a,n]=await Promise.all([h(s,"trending/movie/day"),h(s,"movie/now_playing"),h(s,"movie/upcoming")]),o=await h(s,`movie/${t.results[0].id}`,{append_to_response:"images,videos,recommendations"});return{trending:t.results.slice(1),featured:o,now_playing:a.results,upcoming:n.results}}const x=Object.freeze(Object.defineProperty({__proto__:null,load:J},Symbol.toStringTag,{value:"Module"}));function L(s){let t,a,n,o,p,i,f,_,c;return{c(){t=H("a"),a=H("img"),p=$(),i=H("img"),this.h()},l(r){t=M(r,"A",{href:!0,class:!0});var l=K(t);a=M(l,"IMG",{class:!0,alt:!0,src:!0,style:!0}),p=d(l),i=M(l,"IMG",{class:!0,alt:!0,src:!0,style:!0}),l.forEach(g),this.h()},h(){u(a,"class","backdrop svelte-1si1bdb"),u(a,"alt",n=s[0].title),y(a.src,o=b(s[2].file_path,1280))||u(a,"src",o),w(a,"aspect-ratio",s[2].aspect_ratio),u(i,"class","logo svelte-1si1bdb"),u(i,"alt",f=s[0].title),y(i.src,_=b(s[2].file_path,1280))||u(i,"src",_),w(i,"aspect-ratio",s[1].aspect_ratio),u(t,"href",c="/movies/"+s[0].id),u(t,"class","column svelte-1si1bdb")},m(r,l){v(r,t,l),j(t,a),j(t,p),j(t,i)},p(r,[l]){l&1&&n!==(n=r[0].title)&&u(a,"alt",n),l&4&&!y(a.src,o=b(r[2].file_path,1280))&&u(a,"src",o),l&4&&w(a,"aspect-ratio",r[2].aspect_ratio),l&1&&f!==(f=r[0].title)&&u(i,"alt",f),l&4&&!y(i.src,_=b(r[2].file_path,1280))&&u(i,"src",_),l&2&&w(i,"aspect-ratio",r[1].aspect_ratio),l&1&&c!==(c="/movies/"+r[0].id)&&u(t,"href",c)},i:O,o:O,d(r){r&&g(t)}}}function Q(s,t,a){let n,o,p,{movie:i}=t;return s.$$set=f=>{"movie"in f&&a(0,i=f.movie)},s.$$.update=()=>{s.$$.dirty&1&&a(3,n=i.images),s.$$.dirty&8&&a(2,o=n.backdrops.find(f=>!f.iso_639_1)||n.backdrops[0]),s.$$.dirty&8&&a(1,p=n.logos.find(f=>f.iso_639_1==="en")||n.backdrops[0])},[i,p,o,n]}class R extends B{constructor(t){super(),D(this,t,Q,L,F,{movie:0})}}function V(s){let t,a,n,o,p,i,f,_,c,r,l;return o=new R({props:{movie:s[0].featured}}),i=new z({props:{title:"Trending",movies:s[0].trending,href:"/movies/trending"}}),_=new z({props:{title:"Now_Playing",movies:s[0].now_playing,href:"/movies/now_playing"}}),r=new z({props:{title:"Upcoming",movies:s[0].upcoming,href:"/movies/upcoming"}}),{c(){t=H("h1"),a=N("Top trending movies"),n=$(),k(o.$$.fragment),p=$(),k(i.$$.fragment),f=$(),k(_.$$.fragment),c=$(),k(r.$$.fragment),this.h()},l(e){t=M(e,"H1",{class:!0});var m=K(t);a=U(m,"Top trending movies"),m.forEach(g),n=d(e),P(o.$$.fragment,e),p=d(e),P(i.$$.fragment,e),f=d(e),P(_.$$.fragment,e),c=d(e),P(r.$$.fragment,e),this.h()},h(){u(t,"class","column")},m(e,m){v(e,t,m),j(t,a),v(e,n,m),S(o,e,m),v(e,p,m),S(i,e,m),v(e,f,m),S(_,e,m),v(e,c,m),S(r,e,m),l=!0},p(e,[m]){const A={};m&1&&(A.movie=e[0].featured),o.$set(A);const E={};m&1&&(E.movies=e[0].trending),i.$set(E);const G={};m&1&&(G.movies=e[0].now_playing),_.$set(G);const I={};m&1&&(I.movies=e[0].upcoming),r.$set(I)},i(e){l||(T(o.$$.fragment,e),T(i.$$.fragment,e),T(_.$$.fragment,e),T(r.$$.fragment,e),l=!0)},o(e){q(o.$$.fragment,e),q(i.$$.fragment,e),q(_.$$.fragment,e),q(r.$$.fragment,e),l=!1},d(e){e&&g(t),e&&g(n),C(o,e),e&&g(p),C(i,e),e&&g(f),C(_,e),e&&g(c),C(r,e)}}}function W(s,t,a){let{data:n}=t;return s.$$set=o=>{"data"in o&&a(0,n=o.data)},[n]}class ee extends B{constructor(t){super(),D(this,t,W,V,F,{data:0})}}export{ee as component,x as universal};
