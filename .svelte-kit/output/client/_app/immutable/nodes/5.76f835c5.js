import{g as Re,m as pe}from"../chunks/api.24b2cd97.js";import{S as De,i as Ee,s as qe,k as m,a as J,q as _,l as f,m as v,h as n,c as Q,r as p,n as d,D as se,b as z,F as l,u as C,K as he,y as we,e as ge,z as ye,A as Me,g as N,d as te,f as Ie,B as Te,v as je}from"../chunks/index.f9f2799d.js";import{C as Se}from"../chunks/Carousel.761bebf2.js";async function Ve({data:r,params:e,fetch:o}){const t=await Re(o,`/movie/${e.id}`,{append_to_response:"images,videos,recommendations"}),i=t.videos.results.find(a=>a.official&&a.site==="YouTube"&&(a.type==="Trailer"||a.type==="Teaser"));return{movie:t,trailer:i,title:t.title}}const Ae=Object.freeze(Object.defineProperty({__proto__:null,load:Ve},Symbol.toStringTag,{value:"Module"}));function Be(r){let e,o,t,i,a,w,k,D,q=r[0].title+"",I,y,M,E=r[0].overview+"",T;return{c(){e=m("div"),o=m("div"),t=m("img"),w=J(),k=m("div"),D=m("h1"),I=_(q),y=J(),M=m("p"),T=_(E),this.h()},l(g){e=f(g,"DIV",{class:!0});var b=v(e);o=f(b,"DIV",{class:!0});var j=v(o);t=f(j,"IMG",{alt:!0,src:!0,class:!0}),j.forEach(n),w=Q(b),k=f(b,"DIV",{class:!0});var V=v(k);D=f(V,"H1",{class:!0});var R=v(D);I=p(R,q),R.forEach(n),y=Q(V),M=f(V,"P",{class:!0});var F=v(M);T=p(F,E),F.forEach(n),V.forEach(n),b.forEach(n),this.h()},h(){d(t,"alt",i=r[0].title),se(t.src,a=pe(r[1].file_path,1280))||d(t,"src",a),d(t,"class","svelte-12nbeq8"),d(o,"class","backdrop svelte-12nbeq8"),d(D,"class","svelte-12nbeq8"),d(M,"class","svelte-12nbeq8"),d(k,"class","info svelte-12nbeq8"),d(e,"class","hero svelte-12nbeq8")},m(g,b){z(g,e,b),l(e,o),l(o,t),l(e,w),l(e,k),l(k,D),l(D,I),l(k,y),l(k,M),l(M,T)},p(g,[b]){b&1&&i!==(i=g[0].title)&&d(t,"alt",i),b&2&&!se(t.src,a=pe(g[1].file_path,1280))&&d(t,"src",a),b&1&&q!==(q=g[0].title+"")&&C(I,q),b&1&&E!==(E=g[0].overview+"")&&C(T,E)},i:he,o:he,d(g){g&&n(e)}}}function Ce(r,e,o){let t,{movie:i}=e;return console.log(i.images.backdrops[0].file_path),r.$$set=a=>{"movie"in a&&o(0,i=a.movie)},r.$$.update=()=>{r.$$.dirty&1&&o(1,t=i.images.backdrops[0])},[i,t]}class Fe extends De{constructor(e){super(),Ee(this,e,Ce,Be,qe,{movie:0})}}function be(r){let e,o;return{c(){e=m("iframe"),this.h()},l(t){e=f(t,"IFRAME",{src:!0,title:!0,frameborder:!0,allow:!0,class:!0}),v(e).forEach(n),this.h()},h(){se(e.src,o="https://www.youtube.com/embed/"+r[0].trailer.key)||d(e,"src",o),d(e,"title","YouTube video player"),d(e,"frameborder","0"),d(e,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.allowFullscreen=!0,d(e,"class","svelte-1xr4qkn")},m(t,i){z(t,e,i)},p(t,i){i&1&&!se(e.src,o="https://www.youtube.com/embed/"+t[0].trailer.key)&&d(e,"src",o)},d(t){t&&n(e)}}}function $e(r){let e,o;return e=new Se({props:{title:"You might also like...",movies:r[0].movie.recommendations.results,href:"null"}}),{c(){we(e.$$.fragment)},l(t){ye(e.$$.fragment,t)},m(t,i){Me(e,t,i),o=!0},p(t,i){const a={};i&1&&(a.movies=t[0].movie.recommendations.results),e.$set(a)},i(t){o||(N(e.$$.fragment,t),o=!0)},o(t){te(e.$$.fragment,t),o=!1},d(t){Te(e,t)}}}function Ge(r){var de;let e,o,t,i,a,w,k,D,q=r[0].movie.release_date+"",I,y,M,E,T=r[0].movie.runtime+"",g,b,j,V,R,F,A=Math.round(r[0].movie.budget/1e6)+"",U,le,G,ae,B,re,O=Math.round(r[0].movie.revenue/1e6)+"",W,oe,H,ie,P,K=((de=r[0].movie.genres)==null?void 0:de.map(ke).join(", "))+"",X,Z,Y,S;e=new Fe({props:{movie:r[0].movie}});let h=r[0].trailer&&be(r),c=r[0].movie.recommendations.results.length>0&&$e(r);return{c(){we(e.$$.fragment),o=J(),t=m("div"),h&&h.c(),i=J(),a=m("dl"),w=m("dt"),k=_("Released"),D=m("dd"),I=_(q),y=m("dt"),M=_("Runtime"),E=m("dd"),g=_(T),b=_(" minutes"),j=m("dt"),V=_("Budget"),R=m("dd"),F=_("$"),U=_(A),le=_("M"),G=m("dt"),ae=_("Revenue"),B=m("dd"),re=_("$"),W=_(O),oe=_("M"),H=m("dt"),ie=_("Genre"),P=m("dd"),X=_(K),Z=J(),c&&c.c(),Y=ge(),this.h()},l(s){ye(e.$$.fragment,s),o=Q(s),t=f(s,"DIV",{class:!0});var u=v(t);h&&h.l(u),i=Q(u),a=f(u,"DL",{class:!0});var $=v(a);w=f($,"DT",{class:!0});var L=v(w);k=p(L,"Released"),L.forEach(n),D=f($,"DD",{});var ue=v(D);I=p(ue,q),ue.forEach(n),y=f($,"DT",{class:!0});var ce=v(y);M=p(ce,"Runtime"),ce.forEach(n),E=f($,"DD",{});var ne=v(E);g=p(ne,T),b=p(ne," minutes"),ne.forEach(n),j=f($,"DT",{class:!0});var me=v(j);V=p(me,"Budget"),me.forEach(n),R=f($,"DD",{});var x=v(R);F=p(x,"$"),U=p(x,A),le=p(x,"M"),x.forEach(n),G=f($,"DT",{class:!0});var fe=v(G);ae=p(fe,"Revenue"),fe.forEach(n),B=f($,"DD",{});var ee=v(B);re=p(ee,"$"),W=p(ee,O),oe=p(ee,"M"),ee.forEach(n),H=f($,"DT",{class:!0});var ve=v(H);ie=p(ve,"Genre"),ve.forEach(n),P=f($,"DD",{class:!0});var _e=v(P);X=p(_e,K),_e.forEach(n),$.forEach(n),u.forEach(n),Z=Q(s),c&&c.l(s),Y=ge(),this.h()},h(){d(w,"class","svelte-1xr4qkn"),d(y,"class","svelte-1xr4qkn"),d(j,"class","svelte-1xr4qkn"),d(G,"class","svelte-1xr4qkn"),d(H,"class","svelte-1xr4qkn"),d(P,"class","genres"),d(a,"class","data svelte-1xr4qkn"),d(t,"class","column grid svelte-1xr4qkn")},m(s,u){Me(e,s,u),z(s,o,u),z(s,t,u),h&&h.m(t,null),l(t,i),l(t,a),l(a,w),l(w,k),l(a,D),l(D,I),l(a,y),l(y,M),l(a,E),l(E,g),l(E,b),l(a,j),l(j,V),l(a,R),l(R,F),l(R,U),l(R,le),l(a,G),l(G,ae),l(a,B),l(B,re),l(B,W),l(B,oe),l(a,H),l(H,ie),l(a,P),l(P,X),z(s,Z,u),c&&c.m(s,u),z(s,Y,u),S=!0},p(s,[u]){var L;const $={};u&1&&($.movie=s[0].movie),e.$set($),s[0].trailer?h?h.p(s,u):(h=be(s),h.c(),h.m(t,i)):h&&(h.d(1),h=null),(!S||u&1)&&q!==(q=s[0].movie.release_date+"")&&C(I,q),(!S||u&1)&&T!==(T=s[0].movie.runtime+"")&&C(g,T),(!S||u&1)&&A!==(A=Math.round(s[0].movie.budget/1e6)+"")&&C(U,A),(!S||u&1)&&O!==(O=Math.round(s[0].movie.revenue/1e6)+"")&&C(W,O),(!S||u&1)&&K!==(K=((L=s[0].movie.genres)==null?void 0:L.map(ke).join(", "))+"")&&C(X,K),s[0].movie.recommendations.results.length>0?c?(c.p(s,u),u&1&&N(c,1)):(c=$e(s),c.c(),N(c,1),c.m(Y.parentNode,Y)):c&&(je(),te(c,1,1,()=>{c=null}),Ie())},i(s){S||(N(e.$$.fragment,s),N(c),S=!0)},o(s){te(e.$$.fragment,s),te(c),S=!1},d(s){Te(e,s),s&&n(o),s&&n(t),h&&h.d(),s&&n(Z),c&&c.d(s),s&&n(Y)}}}const ke=r=>r.name;function He(r,e,o){let{data:t}=e;return r.$$set=i=>{"data"in i&&o(0,t=i.data)},[t]}class Oe extends De{constructor(e){super(),Ee(this,e,He,Ge,qe,{data:0})}}export{Oe as component,Ae as universal};
